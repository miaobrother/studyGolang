package main

import (
	"fmt"
	"github.com/lionsoul2014/ip2region/binding/golang/ip2region"
	"os"
	//"bufio"
	//"io"
)

func main() {
	Iplist := [...]string {"210.75.1.226","210.75.2.226","210.75.3.226","210.75.4.226","210.75.5.226","210.75.6.226","210.75.7.226","210.75.8.226","210.75.9.226","210.75.10.226","210.75.11.226","210.75.12.226","210.75.13.226","210.75.14.226","210.75.15.226","210.75.16.226","210.75.17.226","210.75.18.226","210.75.19.226","210.75.20.226","210.75.21.226","210.75.22.226","210.75.23.226","210.75.24.226","210.75.25.226","210.75.26.226","210.75.27.226","210.75.28.226","210.75.29.226","210.75.30.226","210.75.31.226","210.75.32.226","210.75.33.226","210.75.34.226","210.75.35.226","210.75.36.226","210.75.37.226","210.75.38.226","210.75.39.226","210.75.40.226","210.75.41.226","210.75.42.226","210.75.43.226","210.75.44.226","210.75.45.226","210.75.46.226","210.75.47.226","210.75.48.226","210.75.49.226","210.75.50.226","210.75.51.226","210.75.52.226","210.75.53.226","210.75.54.226","210.75.55.226","210.75.56.226","210.75.57.226","210.75.58.226","210.75.59.226","210.75.60.226","210.75.61.226","210.75.62.226","210.75.63.226","210.75.64.226","210.75.65.226","210.75.66.226","210.75.67.226","210.75.68.226","210.75.69.226","210.75.70.226","210.75.71.226","210.75.72.226","210.75.73.226","210.75.74.226","210.75.75.226","210.75.76.226","210.75.77.226","210.75.78.226","210.75.79.226","210.75.80.226","210.75.81.226","210.75.82.226","210.75.83.226","210.75.84.226","210.75.85.226","210.75.86.226","210.75.87.226","210.75.88.226","210.75.89.226","210.75.90.226","210.75.91.226","210.75.92.226","210.75.93.226","210.75.94.226","210.75.95.226","210.75.96.226","210.75.97.226","210.75.98.226","210.75.99.226","210.75.100.226","210.75.101.226","210.75.102.226","210.75.103.226","210.75.104.226","210.75.105.226","210.75.106.226","210.75.107.226","210.75.108.226","210.75.109.226","210.75.110.226","210.75.111.226","210.75.112.226","210.75.113.226","210.75.114.226","210.75.115.226","210.75.116.226","210.75.117.226","210.75.118.226","210.75.119.226","210.75.120.226","210.75.121.226","210.75.122.226","210.75.123.226","210.75.124.226","210.75.125.226","210.75.126.226","210.75.127.226","210.75.128.226","210.75.129.226","210.75.130.226","210.75.131.226","210.75.132.226","210.75.133.226","210.75.134.226","210.75.135.226","210.75.136.226","210.75.137.226","210.75.138.226","210.75.139.226","210.75.140.226","210.75.141.226","210.75.142.226","210.75.143.226","210.75.144.226","210.75.145.226","210.75.146.226","210.75.147.226","210.75.148.226","210.75.149.226","210.75.150.226","210.75.151.226","210.75.152.226","210.75.153.226","210.75.154.226","210.75.155.226","210.75.156.226","210.75.157.226","210.75.158.226","210.75.159.226","210.75.160.226","210.75.161.226","210.75.162.226","210.75.163.226","210.75.164.226","210.75.165.226","210.75.166.226","210.75.167.226","210.75.168.226","210.75.169.226","210.75.170.226","210.75.171.226","210.75.172.226","210.75.173.226","210.75.174.226","210.75.175.226","210.75.176.226","210.75.177.226","210.75.178.226","210.75.179.226","210.75.180.226","210.75.181.226","210.75.182.226","210.75.183.226","210.75.184.226","210.75.185.226","210.75.186.226","210.75.187.226","210.75.188.226","210.75.189.226","210.75.190.226","210.75.191.226","210.75.192.226","210.75.193.226","210.75.194.226","210.75.195.226","210.75.196.226","210.75.197.226","210.75.198.226","210.75.199.226","210.75.200.226","210.75.201.226","210.75.202.226","210.75.203.226","210.75.204.226","210.75.205.226","210.75.206.226","210.75.207.226","210.75.208.226","210.75.209.226","210.75.210.226","210.75.211.226","210.75.212.226","210.75.213.226","210.75.214.226","210.75.215.226","210.75.216.226","210.75.217.226","210.75.218.226","210.75.219.226","210.75.220.226","210.75.221.226","210.75.222.226","210.75.223.226","210.75.224.226","210.75.225.226","210.75.226.226","210.75.227.226","210.75.228.226","210.75.229.226","210.75.230.226","210.75.231.226","210.75.232.226","210.75.233.226","210.75.234.226","210.75.235.226","210.75.236.226","210.75.237.226","210.75.238.226","210.75.239.226","210.75.240.226","210.75.241.226","210.75.242.226","210.75.243.226","210.75.244.226","210.75.245.226","210.75.246.226","210.75.247.226","210.75.248.226","210.75.249.226","210.75.250.226","210.75.251.226","210.75.252.226","210.75.253.226","210.75.254.226","210.75.255.226"}
	//Iplist := [...] string{
	//	}

	region, err := ip2region.New("/Users/zhangyalei/GoglandProjects/src/github.com/lionsoul2014/ip2region/data/ip2region.db")
	defer region.Close()
	if err != nil {
		fmt.Println(err)
		return
	}
	//
	file,err := os.Create("Blue.txt")
	for _,v := range Iplist {
		ip, err := region.MemorySearch(v)
		if err != nil{
			fmt.Println("The error:",err)
		}
		//fmt.Println(ip)
		title := fmt.Sprintf("IP %v Result: %v",v,ip)

		if err != nil{
			fmt.Println("Error message")
		}
		file.WriteString(title+"\n")
	}
	//ip, err = region.BinarySearch("127.0.0.1")
	//fmt.Println(ip, err)
	//ip, err = region.BtreeSearch("127.0.0.1")
	//fmt.Println(ip, err)

	//fileLocal,err := os.Create("0414_结果.txt")
	//file, err := os.Open("/Users/zhangyalei/QuanShi/KC_HeliosAPI/ip_info.txt")
	//if err != nil {
	//	fmt.Println(err)
	//	return
	//}
	//defer file.Close()
	//
	//line := bufio.NewReader(file)
	//for {
	//	content, _, err := line.ReadLine()
	//	if err == io.EOF {
	//		break
	//	}
	//	//fmt.Println(string(content))
	//	ip, err := region.MemorySearch(string(content))
	//	if err != nil{
	//		fmt.Println("The error is:",err)
	//	}
	//
	//	title := fmt.Sprintf("IP %v Result: %v",string(content),ip)
	//	fileLocal.WriteString(title+"\n")
	//
	//}
}